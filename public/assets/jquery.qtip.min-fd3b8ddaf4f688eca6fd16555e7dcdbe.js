/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Sun Nov 13 19:22:15 2011 +0000
*/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false, console: false */
(function(a,b,c){function d(b,d){function f(a){var b=a.precedance==="y",c=s[b?"width":"height"],d=s[b?"height":"width"],e=a.string().indexOf("center")>-1,f=c*(e?.5:1),g=Math.pow,h=Math.round,i,j,k,l=Math.sqrt(g(f,2)+g(d,2)),m=[u/f*l,u/d*l];return m[2]=Math.sqrt(g(m[0],2)-g(u,2)),m[3]=Math.sqrt(g(m[1],2)-g(u,2)),i=l+m[2]+m[3]+(e?0:m[0]),j=i/l,k=[h(j*d),h(j*c)],{height:k[b?0:1],width:k[b?1:0]}}function g(b){var c=p.titlebar&&b.y==="top",d=c?p.titlebar:p.content,e=a.browser.mozilla,f=e?"-moz-":a.browser.webkit?"-webkit-":"",g=b.y+(e?"":"-")+b.x,h=f+(e?"border-radius-"+g:"border-"+g+"-radius");return parseInt(d.css(h),10)||parseInt(q.css(h),10)||0}function h(a,b,c){b=b?b:a[a.precedance];var d=q.hasClass(x),e=p.titlebar&&a.y==="top",f=e?p.titlebar:p.content,g="border-"+b+"-width",h;return q.addClass(x),h=parseInt(f.css(g),10),h=(c?h||parseInt(q.css(g),10):h)||0,q.toggleClass(x,d),h}function i(d,e,f,g){if(p.tip){var h=a.extend({},m.corner),i=f.adjusted,l=b.options.position.adjust.method.split(" "),n=l[0],q=l[1]||l[0],s={left:k,top:k,x:0,y:0},t,u={},v;m.corner.fixed!==j&&(n==="shift"&&h.precedance==="x"&&i.left&&h.y!=="center"?h.precedance=h.precedance==="x"?"y":"x":n==="flip"&&i.left&&(h.x=h.x==="center"?i.left>0?"left":"right":h.x==="left"?"right":"left"),q==="shift"&&h.precedance==="y"&&i.top&&h.x!=="center"?h.precedance=h.precedance==="y"?"x":"y":q==="flip"&&i.top&&(h.y=h.y==="center"?i.top>0?"top":"bottom":h.y==="top"?"bottom":"top"),h.string()!==r.corner&&(r.top!==i.top||r.left!==i.left)&&m.update(h,k)),t=m.position(h,i),t.right!==c&&(t.left=-t.right),t.bottom!==c&&(t.top=-t.bottom),t.user=Math.max(0,o.offset);if(s.left=n==="shift"&&!!i.left)h.x==="center"?u["margin-left"]=s.x=t["margin-left"]-i.left:(v=t.right!==c?[i.left,-t.left]:[-i.left,t.left],(s.x=Math.max(v[0],v[1]))>v[0]&&(f.left-=i.left,s.left=k),u[t.right!==c?"right":"left"]=s.x);if(s.top=q==="shift"&&!!i.top)h.y==="center"?u["margin-top"]=s.y=t["margin-top"]-i.top:(v=t.bottom!==c?[i.top,-t.top]:[-i.top,t.top],(s.y=Math.max(v[0],v[1]))>v[0]&&(f.top-=i.top,s.top=k),u[t.bottom!==c?"bottom":"top"]=s.y);p.tip.css(u).toggle(!(s.x&&s.y||h.x==="center"&&s.y||h.y==="center"&&s.x)),f.left-=t.left.charAt?t.user:n!=="shift"||s.top||!s.left&&!s.top?t.left:0,f.top-=t.top.charAt?t.user:q!=="shift"||s.left||!s.left&&!s.top?t.top:0,r.left=i.left,r.top=i.top,r.corner=h.string()}}var m=this,o=b.options.style.tip,p=b.elements,q=p.tooltip,r={top:0,left:0,corner:""},s={width:o.width,height:o.height},t={},u=o.border||0,v=".qtip-tip",w=!!(a("<canvas />")[0]||{}).getContext;m.mimic=m.corner=l,m.border=u,m.offset=o.offset,m.size=s,b.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){m.init()||m.destroy(),b.reposition()},"^style.tip.(height|width)$":function(){s={width:o.width,height:o.height},m.create(),m.update(),b.reposition()},"^content.title.text|style.(classes|widget)$":function(){p.tip&&m.update()}},a.extend(m,{init:function(){var b=m.detectCorner()&&(w||a.browser.msie);return b&&(m.create(),m.update(),q.unbind(v).bind("tooltipmove"+v,i)),b},detectCorner:function(){var a=o.corner,c=b.options.position,d=c.at,e=c.my.string?c.my.string():c.my;return a===k||e===k&&d===k?k:(a===j?m.corner=new n.Corner(e):a.string||(m.corner=new n.Corner(a),m.corner.fixed=j),m.corner.string()!=="centercenter")},detectColours:function(c){var d,e,f,g=p.tip.css("cssText",""),h=c||m.corner,i=h[h.precedance],j="border-"+i+"-color",k="border"+i.charAt(0)+i.substr(1)+"Color",l=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,n="background-color",r="transparent",u=" !important",v=a(document.body).css("color"),w=b.elements.content.css("color"),y=p.titlebar&&(h.y==="top"||h.y==="center"&&g.position().top+s.height/2+o.offset<p.titlebar.outerHeight(1)),z=y?p.titlebar:p.content;q.addClass(x),t.fill=e=g.css(n),t.border=f=g[0].style[k]||g.css(j)||q.css(j);if(!e||l.test(e))t.fill=z.css(n)||r,l.test(t.fill)&&(t.fill=q.css(n)||e);if(!f||l.test(f)||f===v)t.border=z.css(j)||r,l.test(t.border)&&(t.border=f);a("*",g).add(g).css("cssText",n+":"+r+u+";border:0"+u+";"),q.removeClass(x)},create:function(){var b=s.width,c=s.height,d;p.tip&&p.tip.remove(),p.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:b,height:c}).prependTo(q),w?a("<canvas />").appendTo(p.tip)[0].getContext("2d").save():(d='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>',p.tip.html(d+d))},update:function(b,c){var d=p.tip,g=d.children(),i=s.width,q=s.height,r="px solid ",v="px dashed transparent",x=o.mimic,y=Math.round,z,A,B,C,D;b||(b=m.corner),x===k?x=b:(x=new n.Corner(x),x.precedance=b.precedance,x.x==="inherit"?x.x=b.x:x.y==="inherit"?x.y=b.y:x.x===x.y&&(x[b.precedance]=b[b.precedance])),z=x.precedance,m.detectColours(b),t.border!=="transparent"&&t.border!=="#123456"?(u=h(b,l,j),o.border===0&&u>0&&(t.fill=t.border),m.border=u=o.border!==j?o.border:u):m.border=u=0,B=e(x,i,q),m.size=D=f(b),d.css(D),b.precedance==="y"?C=[y(x.x==="left"?u:x.x==="right"?D.width-i-u:(D.width-i)/2),y(x.y==="top"?D.height-q:0)]:C=[y(x.x==="left"?D.width-i:0),y(x.y==="top"?u:x.y==="bottom"?D.height-q-u:(D.height-q)/2)],w?(g.attr(D),A=g[0].getContext("2d"),A.restore(),A.save(),A.clearRect(0,0,3e3,3e3),A.translate(C[0],C[1]),A.beginPath(),A.moveTo(B[0][0],B[0][1]),A.lineTo(B[1][0],B[1][1]),A.lineTo(B[2][0],B[2][1]),A.closePath(),A.fillStyle=t.fill,A.strokeStyle=t.border,A.lineWidth=u*2,A.lineJoin="miter",A.miterLimit=100,u&&A.stroke(),A.fill()):(B="m"+B[0][0]+","+B[0][1]+" l"+B[1][0]+","+B[1][1]+" "+B[2][0]+","+B[2][1]+" xe",C[2]=u&&/^(r|b)/i.test(b.string())?parseFloat(a.browser.version,10)===8?2:1:0,g.css({antialias:""+(x.string().indexOf("center")>-1),left:C[0]-C[2]*Number(z==="x"),top:C[1]-C[2]*Number(z==="y"),width:i+u,height:q+u}).each(function(b){var c=a(this);c[c.prop?"prop":"attr"]({coordsize:i+u+" "+(q+u),path:B,fillcolor:t.fill,filled:!!b,stroked:!b}).css({display:u||b?"block":"none"}),!b&&c.html()===""&&c.html('<vml:stroke weight="'+u*2+'px" color="'+t.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:inline-block;" />')})),c!==k&&m.position(b)},position:function(b){var c=p.tip,d={},e=Math.max(0,o.offset),i,l,n;return o.corner===k||!c?k:(b=b||m.corner,i=b.precedance,l=f(b),n=[b.x,b.y],i==="x"&&n.reverse(),a.each(n,function(a,c){var f,k;c==="center"?(f=i==="y"?"left":"top",d[f]="50%",d["margin-"+f]=-Math.round(l[i==="y"?"width":"height"]/2)+e):(f=h(b,c,j),k=g(b),d[c]=a?u?h(b,c):0:e+(k>f?k:0))}),d[b[i]]-=l[i==="x"?"width":"height"],c.css({top:"",bottom:"",left:"",right:"",margin:""}).css(d),d)},destroy:function(){p.tip&&p.tip.remove(),q.unbind(v)}}),m.init()}function e(a,b,c){var d=Math.ceil(b/2),e=Math.ceil(c/2),f={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[d,0],[b,c]],bottomcenter:[[0,0],[b,0],[d,c]],rightcenter:[[0,0],[b,e],[0,c]],leftcenter:[[b,0],[b,c],[0,e]]};return f.lefttop=f.bottomright,f.righttop=f.bottomleft,f.leftbottom=f.topright,f.rightbottom=f.topleft,f[a.string()]}function f(b,c){var d,e,f,o,p,q=a(this),r=a(document.body),s=this===document?r:q,t=q.metadata?q.metadata(c.metadata):l,u=c.metadata.type==="html5"&&t?t[c.metadata.name]:l,v=q.data(c.metadata.name||"qtipopts");try{v=typeof v=="string"?(new Function("return "+v))():v}catch(w){i("Unable to parse HTML5 attribute data: "+v)}o=a.extend(j,{},m.defaults,c,typeof v=="object"?h(v):l,h(u||t)),e=o.position,o.id=b;if("boolean"==typeof o.content.text){f=q.attr(o.content.attr);if(o.content.attr!==k&&f)o.content.text=f;else return i("Unable to locate content for tooltip! Aborting render of tooltip on element: ",q),k}e.container===k&&(e.container=r),e.target===k&&(e.target=s),o.show.target===k&&(o.show.target=s),o.show.solo===j&&(o.show.solo=r),o.hide.target===k&&(o.hide.target=s),o.position.viewport===j&&(o.position.viewport=e.container),e.at=new n.Corner(e.at),e.my=new n.Corner(e.my);if(a.data(this,"qtip"))if(o.overwrite)q.qtip("destroy");else if(o.overwrite===k)return k;return o.suppress&&(p=a.attr(this,"title"))&&a(this).removeAttr("title").attr(A,p),d=new g(q,o,b,!!f),a.data(this,"qtip",d),q.bind("remove.qtip-"+b,function(){d.destroy()}),d}function g(d,e,f,g){function i(){var c=[e.show.target[0],e.hide.target[0],J.rendered&&Q.tooltip[0],e.position.container[0],e.position.viewport[0],b,document];J.rendered?a([]).pushStack(a.grep(c,function(a){return typeof a=="object"})).unbind(P):e.show.target.unbind(P+"-create")}function y(){function c(a){O.is(":visible")&&J.reposition(a)}function g(a){if(O.hasClass(s))return k;clearTimeout(J.timers.inactive),J.timers.inactive=setTimeout(function(){J.hide(a)},e.hide.inactive)}function h(b){if(O.hasClass(s)||M||N)return k;var c=a(b.relatedTarget||b.target),d=c.closest(t)[0]===O[0],f=c[0]===n.show[0];clearTimeout(J.timers.show),clearTimeout(J.timers.hide);if(l.target==="mouse"&&d||e.hide.fixed&&/mouse(out|leave|move)/.test(b.type)&&(d||f))try{b.preventDefault(),b.stopImmediatePropagation()}catch(g){}else e.hide.delay>0?J.timers.hide=setTimeout(function(){J.hide(b)},e.hide.delay):J.hide(b)}function i(a){if(O.hasClass(s))return k;clearTimeout(J.timers.show),clearTimeout(J.timers.hide);var b=function(){J.toggle(j,a)};e.show.delay>0?J.timers.show=setTimeout(b,e.show.delay):b()}var l=e.position,n={show:e.show.target,hide:e.hide.target,viewport:a(l.viewport),document:a(document),body:a(document.body),window:a(b)},p={show:a.trim(""+e.show.event).split(" "),hide:a.trim(""+e.hide.event).split(" ")},q=a.browser.msie&&parseInt(a.browser.version,10)===6;O.bind("mouseenter"+P+" mouseleave"+P,function(a){var b=a.type==="mouseenter";b&&J.focus(a),O.toggleClass(w,b)}),e.hide.fixed&&(n.hide=n.hide.add(O),O.bind("mouseover"+P,function(){O.hasClass(s)||clearTimeout(J.timers.hide)})),/mouse(out|leave)/i.test(e.hide.event)?e.hide.leave==="window"&&n.window.bind("mouseout"+P,function(a){/select|option/.test(a.target)&&!a.relatedTarget&&J.hide(a)}):/mouse(over|enter)/i.test(e.show.event)&&n.hide.bind("mouseleave"+P,function(a){clearTimeout(J.timers.show)}),(""+e.hide.event).indexOf("unfocus")>-1&&n.body.bind("mousedown"+P,function(b){var c=a(b.target),e=!O.hasClass(s)&&O.is(":visible");c[0]!==O[0]&&c.parents(t).length===0&&c.add(d).length>1&&!c.attr("disabled")&&J.hide(b)}),"number"==typeof e.hide.inactive&&(n.show.bind("qtip-"+f+"-inactive",g),a.each(m.inactiveEvents,function(a,b){n.hide.add(Q.tooltip).bind(b+P+"-inactive",g)})),a.each(p.hide,function(b,c){var d=a.inArray(c,p.show),e=a(n.hide);d>-1&&e.add(n.show).length===e.length||c==="unfocus"?(n.show.bind(c+P,function(a){O.is(":visible")?h(a):i(a)}),delete p.show[d]):n.hide.bind(c+P,h)}),a.each(p.show,function(a,b){n.show.bind(b+P,i)}),"number"==typeof e.hide.distance&&n.show.add(O).bind("mousemove"+P,function(a){var b=R.origin||{},c=e.hide.distance,d=Math.abs;(d(a.pageX-b.pageX)>=c||d(a.pageY-b.pageY)>=c)&&J.hide(a)}),l.target==="mouse"&&(n.show.bind("mousemove"+P,function(a){o={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),l.adjust.mouse&&(e.hide.event&&O.bind("mouseleave"+P,function(a){(a.relatedTarget||a.target)!==n.show[0]&&J.hide(a)}),n.document.bind("mousemove"+P,function(a){!O.hasClass(s)&&O.is(":visible")&&J.reposition(a||o)}))),(l.adjust.resize||n.viewport.length)&&(a.event.special.resize?n.viewport:n.window).bind("resize"+P,c),(n.viewport.length||q&&O.css("position")==="fixed")&&n.viewport.bind("scroll"+P,c)}function z(b,e){function f(b){function d(c){c&&(delete h[c.src],clearTimeout(J.timers.img[c.src]),a(c).unbind(P)),a.isEmptyObject(h)&&(J.redraw(),e!==k&&J.reposition(R.event),b())}var f,h={};if((f=g.find("img:not([height]):not([width])")).length===0)return d();f.each(function(b,e){if(h[e.src]===c){var f=0,g=3;(function i(){if(e.height||e.width||f>g)return d(e);f+=1,J.timers.img[e.src]=setTimeout(i,700)})(),a(e).bind("error"+P+" load"+P,function(){d(this)}),h[e.src]=e}})}var g=Q.content;return!J.rendered||!b?k:(a.isFunction(b)&&(b=b.call(d,R.event,J)||""),b.jquery&&b.length>0?g.empty().append(b.css({display:"block"})):g.html(b),J.rendered<0?O.queue("fx",f):(N=0,f(a.noop)),J)}function C(b,c){var e=Q.title;if(!J.rendered||!b)return k;a.isFunction(b)&&(b=b.call(d,R.event,J));if(b===k)return G(k);b.jquery&&b.length>0?e.empty().append(b.css({display:"block"})):e.html(b),J.redraw(),c!==k&&J.rendered&&O.is(":visible")&&J.reposition(R.event)}function D(a){var b=Q.button,c=Q.title;if(!J.rendered)return k;a?(c||E(),F()):b.remove()}function E(){var b=L+"-title";Q.titlebar&&G(),Q.titlebar=a("<div />",{"class":q+"-titlebar "+(e.style.widget?"ui-widget-header":"")}).append(Q.title=a("<div />",{id:b,"class":q+"-title","aria-atomic":j})).insertBefore(Q.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(b){a(this).toggleClass("ui-state-active ui-state-focus",b.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(b){a(this).toggleClass("ui-state-hover",b.type==="mouseover")}),e.content.title.button?F():J.rendered&&J.redraw()}function F(){var b=e.content.title.button,c=typeof b=="string",d=c?b:"Close tooltip";Q.button&&Q.button.remove(),b.jquery?Q.button=b:Q.button=a("<a />",{"class":"ui-state-default ui-tooltip-close "+(e.style.widget?"":q+"-icon"),title:d,"aria-label":d}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),Q.button.appendTo(Q.titlebar).attr("role","button").click(function(a){return O.hasClass(s)||J.hide(a),k}),J.redraw()}function G(a){Q.title&&(Q.titlebar.remove(),Q.titlebar=Q.title=Q.button=l,a!==k&&J.reposition())}function H(){var a=e.style.widget;O.toggleClass(r,a).toggleClass(u,!a),Q.content.toggleClass(r+"-content",a),Q.titlebar&&Q.titlebar.toggleClass(r+"-header",a),Q.button&&Q.button.toggleClass(q+"-icon",!a)}function I(a){var b=0,c,d=e,f=a.split(".");while(d=d[f[b++]])b<f.length&&(c=d);return[c||e,f.pop()]}var J=this,K=document.body,L=q+"-"+f,M=0,N=0,O=a(),P=".qtip-"+f,Q,R;J.id=f,J.rendered=k,J.elements=Q={target:d},J.timers={img:{}},J.options=e,J.checks={},J.plugins={},J.cache=R={event:{},target:a(),disabled:k,attr:g},J.checks.builtin={"^id$":function(b,c,d){var e=d===j?m.nextid:d,f=q+"-"+e;e!==k&&e.length>0&&!a("#"+f).length&&(O[0].id=f,Q.content[0].id=f+"-content",Q.title[0].id=f+"-title")},"^content.text$":function(a,b,c){z(c)},"^content.title.text$":function(a,b,c){if(!c)return G();!Q.title&&c&&E(),C(c)},"^content.title.button$":function(a,b,c){D(c)},"^position.(my|at)$":function(a,b,c){"string"==typeof c&&(a[b]=new n.Corner(c))},"^position.container$":function(a,b,c){J.rendered&&O.appendTo(c)},"^show.ready$":function(){J.rendered?J.toggle(j):J.render(1)},"^style.classes$":function(a,b,c){O.attr("class",q+" qtip ui-helper-reset "+c)},"^style.widget|content.title":H,"^events.(render|show|move|hide|focus|blur)$":function(b,c,d){O[(a.isFunction(d)?"":"un")+"bind"]("tooltip"+c,d)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var a=e.position;O.attr("tracking",a.target==="mouse"&&a.adjust.mouse),i(),y()}},a.extend(J,{render:function(b){if(J.rendered)return J;var c=e.content.text,f=e.content.title.text,g=e.position,h=a.Event("tooltiprender");return a.attr(d[0],"aria-describedby",L),O=Q.tooltip=a("<div/>",{id:L,"class":q+" qtip ui-helper-reset "+u+" "+e.style.classes+" "+q+"-pos-"+e.position.my.abbreviation(),width:e.style.width||"",height:e.style.height||"",tracking:g.target==="mouse"&&g.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":k,"aria-describedby":L+"-content","aria-hidden":j}).toggleClass(s,R.disabled).data("qtip",J).appendTo(e.position.container).append(Q.content=a("<div />",{"class":q+"-content",id:L+"-content","aria-atomic":j})),J.rendered=-1,M=N=1,f&&(E(),a.isFunction(f)||C(f,k)),a.isFunction(c)||z(c,k),J.rendered=j,H(),a.each(e.events,function(b,c){a.isFunction(c)&&O.bind(b==="toggle"?"tooltipshow tooltiphide":"tooltip"+b,c)}),a.each(n,function(){this.initialize==="render"&&this(J)}),y(),O.queue("fx",function(a){h.originalEvent=R.event,O.trigger(h,[J]),M=N=0,J.redraw(),(e.show.ready||b)&&J.toggle(j,R.event),a()}),J},get:function(a){var b,c;switch(a.toLowerCase()){case"dimensions":b={height:O.outerHeight(),width:O.outerWidth()};break;case"offset":b=n.offset(O,e.position.container);break;default:c=I(a.toLowerCase()),b=c[0][c[1]],b=b.precedance?b.string():b}return b},set:function(b,c){function d(a,b){var c,d,e;for(c in n)for(d in n[c])if(e=(new RegExp(d,"i")).exec(a))b.push(e),n[c][d].apply(J,b)}var f=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,g=/^content\.(title|attr)|style/i,i=k,m=k,n=J.checks,o;return"string"==typeof b?(o=b,b={},b[o]=c):b=a.extend(j,{},b),a.each(b,function(c,d){var e=I(c.toLowerCase()),h;h=e[0][e[1]],e[0][e[1]]="object"==typeof d&&d.nodeType?a(d):d,b[c]=[e[0],e[1],d,h],i=f.test(c)||i,m=g.test(c)||m}),h(e),M=N=1,a.each(b,d),M=N=0,O.is(":visible")&&J.rendered&&(i&&J.reposition(e.position.target==="mouse"?l:R.event),m&&J.redraw()),J},toggle:function(b,c){function d(){b?(a.browser.msie&&O[0].style.removeAttribute("filter"),O.css("overflow",""),"string"==typeof h.autofocus&&a(h.autofocus,O).focus(),r=a.Event("tooltipvisible"),r.originalEvent=c?R.event:l,O.trigger(r,[J]),h.target.trigger("qtip-"+f+"-inactive")):O.css({display:"",visibility:"",opacity:"",left:"",top:""})}if(!J.rendered)return b?J.render(1):J;var g=b?"show":"hide",h=e[g],i=O.is(":visible"),m=!c||e[g].target.length<2||R.target[0]===c.target,n=e.position,p=e.content,q,r;(typeof b).search("boolean|number")&&(b=!i);if(!O.is(":animated")&&i===b&&m)return J;if(c){if(/over|enter/.test(c.type)&&/out|leave/.test(R.event.type)&&c.target===e.show.target[0]&&O.has(c.relatedTarget).length)return J;R.event=a.extend({},c)}return r=a.Event("tooltip"+g),r.originalEvent=c?R.event:l,O.trigger(r,[J,90]),r.isDefaultPrevented()?J:(a.attr(O[0],"aria-hidden",!b),b?(R.origin=a.extend({},o),J.focus(c),a.isFunction(p.text)&&z(p.text,k),a.isFunction(p.title.text)&&C(p.title.text,k),!B&&n.target==="mouse"&&n.adjust.mouse&&(a(document).bind("mousemove.qtip",function(a){o={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),B=j),J.reposition(c),(r.solo=!!h.solo)&&a(t,h.solo).not(O).qtip("hide",r)):(clearTimeout(J.timers.show),delete R.origin,B&&!a(t+'[tracking="true"]:visible',h.solo).not(O).length&&(a(document).unbind("mousemove.qtip"),B=k),J.blur(c)),m&&O.stop(0,1),h.effect===k?(O[g](),d.call(O)):a.isFunction(h.effect)?(h.effect.call(O,J),O.queue("fx",function(a){d(),a()})):O.fadeTo(90,b?1:0,d),b&&h.target.trigger("qtip-"+f+"-inactive"),J)},show:function(a){return J.toggle(j,a)},hide:function(a){return J.toggle(k,a)},focus:function(b){if(!J.rendered)return J;var c=a(t),d=parseInt(O[0].style.zIndex,10),e=m.zindex+c.length,f=a.extend({},b),g,h;return O.hasClass(v)||(h=a.Event("tooltipfocus"),h.originalEvent=f,O.trigger(h,[J,e]),h.isDefaultPrevented()||(d!==e&&(c.each(function(){this.style.zIndex>d&&(this.style.zIndex=this.style.zIndex-1)}),c.filter("."+v).qtip("blur",f)),O.addClass(v)[0].style.zIndex=e)),J},blur:function(b){var c=a.extend({},b),d;return O.removeClass(v),d=a.Event("tooltipblur"),d.originalEvent=c,O.trigger(d,[J]),J},reposition:function(c,d){if(!J.rendered||M)return J;M=1;var f=e.position.target,g=e.position,h=g.my,i=g.at,j=g.adjust,l=j.method.split(" "),m=O.outerWidth(),p=O.outerHeight(),r=0,s=0,t=a.Event("tooltipmove"),u=O.css("position")==="fixed",v=g.viewport,w={left:0,top:0},x=g.container,y=k,z=J.plugins.tip,A={horizontal:l[0],vertical:l[1]=l[1]||l[0],enabled:v.jquery&&f[0]!==b&&f[0]!==K&&j.method!=="none",left:function(a){var b=A.horizontal==="shift",c=-x.offset.left+v.offset.left+v.scrollLeft,d=h.x==="left"?m:h.x==="right"?-m:-m/2,e=i.x==="left"?r:i.x==="right"?-r:-r/2,f=z&&z.size?z.size.width||0:0,g=z&&z.corner&&z.corner.precedance==="x"&&!b?f:0,k=c-a+g,l=a+m-v.width-c+g,n=d-(h.precedance==="x"||h.x===h.y?e:0),o=h.x==="center";return b?(g=z&&z.corner&&z.corner.precedance==="y"?f:0,n=(h.x==="left"?1:-1)*d-g,w.left+=k>0?k:l>0?-l:0,w.left=Math.max(-x.offset.left+v.offset.left+(g&&z.corner.x==="center"?z.offset:0),a-n,Math.min(Math.max(-x.offset.left+v.offset.left+v.width,a+n),w.left))):(k>0&&(h.x!=="left"||l>0)?w.left-=n:l>0&&(h.x!=="right"||k>0)&&(w.left-=o?-n:n),w.left!==a&&o&&(w.left-=j.x),w.left<c&&-w.left>l&&(w.left=a)),w.left-a},top:function(a){var b=A.vertical==="shift",c=-x.offset.top+v.offset.top+v.scrollTop,d=h.y==="top"?p:h.y==="bottom"?-p:-p/2,e=i.y==="top"?s:i.y==="bottom"?-s:-s/2,f=z&&z.size?z.size.height||0:0,g=z&&z.corner&&z.corner.precedance==="y"&&!b?f:0,k=c-a+g,l=a+p-v.height-c+g,m=d-(h.precedance==="y"||h.x===h.y?e:0),n=h.y==="center";return b?(g=z&&z.corner&&z.corner.precedance==="x"?f:0,m=(h.y==="top"?1:-1)*d-g,w.top+=k>0?k:l>0?-l:0,w.top=Math.max(-x.offset.top+v.offset.top+(g&&z.corner.x==="center"?z.offset:0),a-m,Math.min(Math.max(-x.offset.top+v.offset.top+v.height,a+m),w.top))):(k>0&&(h.y!=="top"||l>0)?w.top-=m:l>0&&(h.y!=="bottom"||k>0)&&(w.top-=n?-m:m),w.top!==a&&n&&(w.top-=j.y),w.top<0&&-w.top>l&&(w.top=a)),w.top-a}},B;if(a.isArray(f)&&f.length===2)i={x:"left",y:"top"},w={left:f[0],top:f[1]};else if(f==="mouse"&&(c&&c.pageX||R.event.pageX))i={x:"left",y:"top"},c=(!c||c.type!=="resize"&&c.type!=="scroll"?c&&c.pageX&&c.type==="mousemove"?c:o&&o.pageX&&(j.mouse||!c||!c.pageX)?{pageX:o.pageX,pageY:o.pageY}:!j.mouse&&R.origin&&R.origin.pageX?R.origin:c:R.event)||c||R.event||o||{},w={top:c.pageY,left:c.pageX};else{f==="event"?c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?f=R.target=a(c.target):f=R.target:R.target=a(f),f=a(f).eq(0);if(f.length===0)return J;f[0]===document||f[0]===b?(r=n.iOS?b.innerWidth:f.width(),s=n.iOS?b.innerHeight:f.height(),f[0]===b&&(w={top:!u||n.iOS?(v||f).scrollTop():0,left:!u||n.iOS?(v||f).scrollLeft():0})):f.is("area")&&n.imagemap?w=n.imagemap(f,i,A.enabled?l:k):f[0].namespaceURI==="http://www.w3.org/2000/svg"&&n.svg?w=n.svg(f,i):(r=f.outerWidth(),s=f.outerHeight(),w=n.offset(f,x)),w.offset&&(r=w.width,s=w.height,y=w.flipoffset,w=w.offset);if(n.iOS<4.1&&n.iOS>3.1||n.iOS==4.3||!n.iOS&&u)B=a(b),w.left-=B.scrollLeft(),w.top-=B.scrollTop();w.left+=i.x==="right"?r:i.x==="center"?r/2:0,w.top+=i.y==="bottom"?s:i.y==="center"?s/2:0}return w.left+=j.x+(h.x==="right"?-m:h.x==="center"?-m/2:0),w.top+=j.y+(h.y==="bottom"?-p:h.y==="center"?-p/2:0),A.enabled?(v={elem:v,height:v[(v[0]===b?"h":"outerH")+"eight"](),width:v[(v[0]===b?"w":"outerW")+"idth"](),scrollLeft:u?0:v.scrollLeft(),scrollTop:u?0:v.scrollTop(),offset:v.offset()||{left:0,top:0}},x={elem:x,scrollLeft:x.scrollLeft(),scrollTop:x.scrollTop(),offset:x.offset()||{left:0,top:0}},w.adjusted={left:A.horizontal!=="none"?A.left(w.left):0,top:A.vertical!=="none"?A.top(w.top):0},w.adjusted.left+w.adjusted.top&&O.attr("class",O[0].className.replace(/ui-tooltip-pos-\w+/i,q+"-pos-"+h.abbreviation())),y&&w.adjusted.left&&(w.left+=y.left),y&&w.adjusted.top&&(w.top+=y.top)):w.adjusted={left:0,top:0},t.originalEvent=a.extend({},c),O.trigger(t,[J,w,v.elem||v]),t.isDefaultPrevented()?J:(delete w.adjusted,d===k||isNaN(w.left)||isNaN(w.top)||f==="mouse"||!a.isFunction(g.effect)?O.css(w):a.isFunction(g.effect)&&(g.effect.call(O,J,a.extend({},w)),O.queue(function(b){a(this).css({opacity:"",height:""}),a.browser.msie&&this.style.removeAttribute("filter"),b()})),M=0,J)},redraw:function(){if(J.rendered<1||N)return J;var a=e.position.container,b,c,d,f;return N=1,e.style.height&&O.css("height",e.style.height),e.style.width?O.css("width",e.style.width):(O.css("width","").addClass(x),c=O.width()+1,d=O.css("max-width")||"",f=O.css("min-width")||"",b=(d+f).indexOf("%")>-1?a.width()/100:0,d=(d.indexOf("%")>-1?b:1)*parseInt(d,10)||c,f=(f.indexOf("%")>-1?b:1)*parseInt(f,10)||0,c=d+f?Math.min(Math.max(c,f),d):c,O.css("width",Math.round(c)).removeClass(x)),N=0,J},disable:function(b){return"boolean"!=typeof b&&(b=!O.hasClass(s)&&!R.disabled),J.rendered?(O.toggleClass(s,b),a.attr(O[0],"aria-disabled",b)):R.disabled=!!b,J},enable:function(){return J.disable(k)},destroy:function(){var b=d[0],c=a.attr(b,A),g=d.data("qtip");J.rendered&&(O.remove(),a.each(J.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(J.timers.show),clearTimeout(J.timers.hide),i();if(!g||J===g)a.removeData(b,"qtip"),e.suppress&&c&&(a.attr(b,"title",c),d.removeAttr(A)),d.removeAttr("aria-describedby");return d.unbind(".qtip-"+f),delete p[J.id],d}})}function h(b){var c;if(!b||"object"!=typeof b)return k;if(b.metadata===l||"object"!=typeof b.metadata)b.metadata={type:b.metadata};if("content"in b){if(b.content===l||"object"!=typeof b.content||b.content.jquery)b.content={text:b.content};c=b.content.text||k,!a.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"==typeof c&&!c.jquery)&&(b.content.text=k);if("title"in b.content){if(b.content.title===l||"object"!=typeof b.content.title)b.content.title={text:b.content.title};c=b.content.title.text||k,!a.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"==typeof c&&!c.jquery)&&(b.content.title.text=k)}}return"position"in b&&(b.position===l||"object"!=typeof b.position)&&(b.position={my:b.position,at:b.position}),"show"in b&&(b.show===l||"object"!=typeof b.show)&&(b.show.jquery?b.show={target:b.show}:b.show={event:b.show}),"hide"in b&&(b.hide===l||"object"!=typeof b.hide)&&(b.hide.jquery?b.hide={target:b.hide}:b.hide={event:b.hide}),"style"in b&&(b.style===l||"object"!=typeof b.style)&&(b.style={classes:b.style}),a.each(n,function(){this.sanitize&&this.sanitize(b)}),b}function i(){i.history=i.history||[],i.history.push(arguments);if("object"==typeof console){var a=console[console.warn?"warn":"log"],b=Array.prototype.slice.call(arguments),c;typeof arguments[0]=="string"&&(b[0]="qTip2: "+b[0]),c=a.apply?a.apply(console,b):a(b)}}"use strict";var j=!0,k=!1,l=null,m,n,o,p={},q="ui-tooltip",r="ui-widget",s="ui-state-disabled",t="div.qtip."+q,u=q+"-default",v=q+"-focus",w=q+"-hover",x=q+"-fluid",y="-31000px",z="_replacedByqTip",A="oldtitle",B;m=a.fn.qtip=function(b,d,e){var f=(""+b).toLowerCase(),g=l,i=f==="disable"?[j]:a.makeArray(arguments).slice(1),n=i[i.length-1],o=this[0]?a.data(this[0],"qtip"):l;if(!arguments.length&&o||f==="api")return o;if("string"==typeof b)return this.each(function(){var b=a.data(this,"qtip");if(!b)return j;n&&n.timeStamp&&(b.cache.event=n);if(f!=="option"&&f!=="options"||!d)b[f]&&b[f].apply(b[f],i);else if(a.isPlainObject(d)||e!==c)b.set(d,e);else return g=b.get(d),k}),g!==l?g:this;if("object"==typeof b||!arguments.length)return o=h(a.extend(j,{},b)),m.bind.call(this,o,n)},m.bind=function(b,d){return this.each(function(e){function g(b){function d(){r.render(typeof b=="object"||h.show.ready),i.show.add(i.hide).unbind(q)}if(r.cache.disabled)return k;r.cache.event=a.extend({},b),r.cache.target=b?a(b.target):[c],h.show.delay>0?(clearTimeout(r.timers.show),r.timers.show=setTimeout(d,h.show.delay),l.show!==l.hide&&i.hide.bind(l.hide,function(){clearTimeout(r.timers.show)})):d()}var h,i,l,q,r,s;s=a.isArray(b.id)?b.id[e]:b.id,s=!s||s===k||s.length<1||p[s]?m.nextid++:p[s]=s,q=".qtip-"+s+"-create",r=f.call(this,s,b);if(r===k)return j;h=r.options,a.each(n,function(){this.initialize==="initialize"&&this(r)}),i={show:h.show.target,hide:h.hide.target},l={show:a.trim(""+h.show.event).replace(/ /g,q+" ")+q,hide:a.trim(""+h.hide.event).replace(/ /g,q+" ")+q},/mouse(over|enter)/i.test(l.show)&&!/mouse(out|leave)/i.test(l.hide)&&(l.hide+=" mouseleave"+q),i.show.bind("mousemove"+q,function(a){o={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),i.show.bind(l.show,g),(h.show.ready||h.prerender)&&g(d)})},n=m.plugins={Corner:function(a){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.precedance=a.charAt(0).search(/^(t|b)/)>-1?"y":"x",this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y},this.abbreviation=function(){var a=this.x.substr(0,1),b=this.y.substr(0,1);return a===b?a:a==="c"||a!=="c"&&b!=="c"?b+a:a+b}},offset:function(a,b){function c(a,b){d.left+=b*a.scrollLeft(),d.top+=b*a.scrollTop()}var d=a.offset(),e=b,f=0,g=document.body,h,i;if(e){do{e.css("position")!=="static"&&(h=e[0]===g?{left:parseInt(e.css("left"),10)||0,top:parseInt(e.css("top"),10)||0}:e.position(),d.left-=h.left+(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("marginLeft"),10)||0),d.top-=h.top+(parseInt(e.css("borderTopWidth"),10)||0),i=e.css("overflow"),(i==="scroll"||i==="auto")&&++f);if(e[0]===g)break}while(e=e.offsetParent());b[0]!==g&&f&&c(b,1)}return d},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_","."))||k,fn:{attr:function(b,c){if(this.length){var d=this[0],e="title",f=a.data(d,"qtip");if(b===e&&f&&"object"==typeof f&&f.options.suppress)return arguments.length<2?a.attr(d,A):(f&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",c),this.attr(A,c))}return a.fn["attr"+z].apply(this,arguments)},clone:function(b){var c=a([]),d="title",e=a.fn["clone"+z].apply(this,arguments);return b||e.filter("["+A+"]").attr("title",function(){return a.attr(this,A)}).removeAttr(A),e},remove:a.ui?l:function(b,c){a.ui||a(this).each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}}},a.each(n.fn,function(b,c){if(!c||a.fn[b+z])return j;var d=a.fn[b+z]=a.fn[b];a.fn[b]=function(){return c.apply(this,arguments)||d.apply(this,arguments)}}),m.version="2.0.0pre",m.nextid=0,m.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),m.zindex=15e3,m.defaults={prerender:k,id:k,overwrite:j,suppress:j,content:{text:j,attr:"title",title:{text:k,button:k}},position:{my:"top left",at:"bottom right",target:k,container:k,viewport:k,adjust:{x:0,y:0,mouse:j,resize:j,method:"flip flip"},effect:function(b,c,d){a(this).animate(c,{duration:200,queue:k})}},show:{target:k,event:"mouseenter",effect:j,delay:90,solo:k,ready:k,autofocus:k},hide:{target:k,event:"mouseleave",effect:j,delay:0,fixed:k,inactive:k,leave:"window",distance:k},style:{classes:"",widget:k,width:k,height:k},events:{render:l,move:l,show:l,hide:l,toggle:l,visible:l,focus:l,blur:l}},n.tip=function(a){var b=a.plugins.tip;return"object"==typeof b?b:a.plugins.tip=new d(a)},n.tip.initialize="render",n.tip.sanitize=function(a){var b=a.style,c;b&&"tip"in b&&(c=a.style.tip,typeof c!="object"&&(a.style.tip={corner:c}),/string|boolean/i.test(typeof c.corner)||(c.corner=j),typeof c.width!="number"&&delete c.width,typeof c.height!="number"&&delete c.height,typeof c.border!="number"&&c.border!==j&&delete c.border,typeof c.offset!="number"&&delete c.offset)},a.extend(j,m.defaults,{style:{tip:{corner:j,mimic:k,width:6,height:6,border:j,offset:0}}})})(jQuery,window)